<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <title>Maps</title>
  <link rel="stylesheet" media="all" href="../jquery-jvectormap.css"/>
  <style>
    ul {
      padding: 0;
      list-style: none;
    }
    #debug {
      font-size: 1.5em;
      font-family: monospace;
      margin-left: 50px;
      padding-top: 10px;
    }
    .map {
      /* some offset to test */
      margin-top: 100px;
      margin-left: 50px;
    }
  </style>

  <script src="assets/jquery-1.8.2.js"></script>
  <script src="../jquery-jvectormap.js"></script>
  <script src="../jquery-mousewheel.js"></script>

  <script src="../lib/jvectormap.js"></script>

  <script src="../lib/abstract-element.js"></script>
  <script src="../lib/abstract-canvas-element.js"></script>
  <script src="../lib/abstract-shape-element.js"></script>

  <script src="../lib/svg-element.js"></script>
  <script src="../lib/svg-group-element.js"></script>
  <script src="../lib/svg-canvas-element.js"></script>
  <script src="../lib/svg-shape-element.js"></script>
  <script src="../lib/svg-path-element.js"></script>
  <script src="../lib/svg-circle-element.js"></script>

  <script src="../lib/vml-element.js"></script>
  <script src="../lib/vml-group-element.js"></script>
  <script src="../lib/vml-canvas-element.js"></script>
  <script src="../lib/vml-shape-element.js"></script>
  <script src="../lib/vml-path-element.js"></script>
  <script src="../lib/vml-circle-element.js"></script>

  <script src="../lib/vector-canvas.js"></script>
  <script src="../lib/simple-scale.js"></script>
  <script src="../lib/ordinal-scale.js"></script>
  <script src="../lib/numeric-scale.js"></script>
  <script src="../lib/color-scale.js"></script>
  <script src="../lib/data-series.js"></script>
  <script src="../lib/proj.js"></script>
  <script src="../lib/world-map.js"></script>

  <script src="assets/jquery-jvectormap-world-mill-en.js"></script>
  <script>
    $(function(){
      var markers = [
            {latLng: [40.66, -73.56], name: 'New York City', style: {r: 8, fill: 'yellow'}},
            {latLng: [48.04, 10.71], style: {fill: 'red', r: 10}}
          ];

      var map = new jvm.WorldMap({
        container: $('.map'),
        map: 'world_mill_en',
        markers: markers,
        regionsSelectable: true,
        markersSelectable: true,
        markersSelectableOne: true,

        onMarkerLabelShow: function(event, label, index){
          label.html(label.html()+' (modified marker)');
        },
        onMarkerOver: function(event, index){
          console.log('marker-over', index);
        },
        onMarkerOut: function(event, index){
          console.log('marker-out', index);
        },
        onMarkerClick: function(event, index){
          console.log('marker-click', index);
        },
        onMarkerSelected: function(event, index, isSelected, selectedMarkers){
          console.log('marker-select', index, isSelected, selectedMarkers);
        },

        onRegionLabelShow: function(event, label, code){
          label.html(label.html()+' (modified)');
        },
        onRegionOver: function(event, code){
          console.log('region-over', code, map.getRegionName(code));
        },
        onRegionMove: function(event, code, x, y, latLng){
          jvm.$('#debug')
            .text('x=' + x + ' y=' + y + (latLng ? ' lat=' + latLng.lat.toFixed(5) + ' lng=' + latLng.lng.toFixed(5) : ''));
          console.log('region-move', code, map.getRegionName(code), x, y, latLng);
        },
        onRegionOut: function(event, code){
          jvm.$('#debug').text('');
          console.log('region-out', code);
        },
        onRegionClick: function(event, code){
          console.log('region-click', code);
        },
        onRegionSelected: function(event, code, isSelected, selectedRegions){
          console.log('region-select', code, isSelected, selectedRegions);
        },
        onZoom: function(e, scale){
            console.log('viewportChange', scale);
        }
      });
    });
  </script>
</head>
<body>
  <div class="map" style="width: 900px; height: 600px"></div>
  <div id="debug"></div>
</body>
</html>
